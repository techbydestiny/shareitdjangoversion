{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Share It - Settings</title>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- FontAwesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <!-- Custom CSS -->
  <link href="{% static 'dashboard/css/style.css' %}" rel="stylesheet"/>
</head>
<body>

  <!-- Header / Navbar -->
  <div class="header">
    <nav class="navbar navbar-expand-lg">
      <div class="container-fluid">
        <!-- Logo + Greeting -->
        <a class="navbar-brand d-flex align-items-center" href="/">
          <img src="{% static 'logo.png' %}" width="50px" class="me-2"/>
          {% if profile %}
            <h3 class="hellotext mb-0">Hello, {{ profile.user }}!</h3>
          {% endif %}
        </a>

        <!-- Right section -->
        <div class="d-flex align-items-center">
          <a class="nav-link navbox" title="Archive" href="/dashboard/archieve">
            <i class="fa-solid fa-box-archive bright"></i>
          </a>
          <a class="nav-link navbox" title="Messages" href="/dashboard/messages">
            <i class="fab fa-facebook-messenger bright"></i>
          </a>
          <a class="nav-link navbox" title="Profile" href="/dashboard/">
            {% if profile.profile_pic %}
              <img src="{{ profile.profile_pic.url }}" alt="Profile" class="profile-pic ms-2 bright">
            {% else %}
              <img src="{% static 'home/avatar.png' %}" alt="Profile" class="profile-pic ms-2 bright">
            {% endif %}
          </a>
        </div>
      </div>
    </nav>
  </div>

  <!-- Body -->
  <div class="body" style="background-image: url('{% static "images/login-hero.jpg" %}');">

    <div class="container-fluid text-center">
      <div class="mt-4 p-4 text-white rounded profile-card">
        <div class="profile-card-content">

          <!-- Upload Profile Picture -->
          <div class="upload-container mb-3">
            <form method="POST" enctype="multipart/form-data">
              {% csrf_token %}
              <label for="imageUpload" class="upload-button" style="position: relative; display: inline-block; cursor: pointer;">
                {% if profile.profile_pic %}
                  <img src="{{ profile.profile_pic.url }}" alt="Upload Profile" class="rounded upload-image"/>
                {% else %}
                  <div style="width:100px; height:100px; background:#ccc; display:flex; align-items:center; justify-content:center; border-radius:50%;">
                    <span>No Image</span>
                  </div>
                {% endif %}
                <div class="hover-overlay">
                  Click to upload
                </div>
              </label>
              <input type="file" id="imageUpload" name="profile_pic" accept="image/*" hidden onchange="this.form.submit()">
            </form>
          </div>

          <h1>Settings</h1>
        </div>

        <!-- Button Section -->
        <div class="button-container mt-4">
          <button class="btn btn-custom btn-lg" onclick="onArchieve()">Archieve <i class="fa-solid fa-box-archive"></i></button>
          <button class="btn btn-custom btn-lg" onclick="onchangeUser()">Change <i class="fa-solid fa-user"></i></button>
          <button class="btn btn-custom btn-lg" onclick="onchangeEmail()">Change <i class="fa-solid fa-envelope"></i></button>
          <button class="btn btn-custom btn-lg" onclick="onchangePassword()">Change <i class="fa-solid fa-lock"></i></button>
          <button class="btn btn-custom btn-lg" onclick="onContact()">Contact Us <i class="fa-solid fa-question"></i></button>
          <a href="/logout" class="link-action btn btn-custom btn-lg">Logout <i class="fa-solid fa-right-from-bracket"></i></a>
          <hr class="my-3" style="width: 100%;">
          <button class="btn btn-custom btn-lg" onclick="onBack()"><i class="fa-solid fa-backward"></i> Back</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script> 
  <script src="{% static 'js/script.js' %}"></script>
  <script src="{% static 'js/buttons.js' %}"></script>
</body>
</html>
